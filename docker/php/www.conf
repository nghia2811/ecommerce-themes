; ============================================================
; PHP-FPM Pool Configuration for WordPress
; ============================================================

[www]
user  = www-data
group = www-data

; ── Listen ────────────────────────────────────────────────────
listen      = 9000
listen.owner = www-data
listen.group = www-data
listen.mode  = 0660

; ── Process Management ────────────────────────────────────────
; Use 'dynamic' for variable traffic; use 'static' for high-load
pm                    = dynamic
pm.max_children       = 20
pm.start_servers      = 4
pm.min_spare_servers  = 2
pm.max_spare_servers  = 8
pm.max_requests       = 500

; ── Timeouts ──────────────────────────────────────────────────
request_terminate_timeout = 300s
request_slowlog_timeout   = 30s
slowlog                   = /var/log/php/slow.log

; ── Status & Ping ─────────────────────────────────────────────
pm.status_path = /status
ping.path      = /ping
ping.response  = pong

; ── Environment Pass-through ─────────────────────────────────
clear_env = no
